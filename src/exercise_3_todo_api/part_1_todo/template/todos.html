{% extends "layout.html" %}

{% block title %} MY TODOÂ´S LIST{% endblock %}

{% block content %}

    {% if todos|length > 0 %}

    <div class="container-body">
        <div class="jumbotron">
          <h1 class="display-4">My TODO'S list</h1>
          <table>
              <tr>
                <th>Kind</th>
                <th>Title</th>
                <th>Deadline</th>
                <th>Status</th>
                <th>Comment</th>
                <th>Actions</th>
              </tr>

        {% for todo in todos %}

          <tr>
            <td>{{ todo.kind }}</td>
            <td>{{ todo.title }}</td>
            <td>{{ todo.deadline }}</td>
            <td>{{ todo.status }}</td>
            <td>{{ todo.comment }}</td>
            <td id="actions">
                <a href="/todos/{{todo.todo_id}}"><i class="fas fa-edit"></i></a>
                <a href="/todos/{{todo.todo_id}}/status"><i class="fas fa-check" id="check"></i></a>
                <a><i class="far fa-trash-alt" id="trash"data-toggle="modal" data-target="#exampleModal" ></i></a>
                        <!-- Modal -->
                    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                      <div class="modal-dialog">
                        <div class="modal-content">
                          <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Confirm action</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body">
                            <p>If you delete {{ todo.title }}, you won't be able to access it again.Are you sure you want to delete it?</p>
                          </div>
                          <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <a href="/todos/{{todo.todo_id}}/delete"><button type="delete" id="delete" class="btn btn-primary">Delete</button></a>
                          </div>
                        </div>
                      </div>
                    </div>


                  </div>
                </div>
              </div>
            </div>
            </td>
          </tr>

        {% endfor %}
      </table>

    <div class="jumbotron">
        <a class="btn btn-primary btn-lg" href="/form" role="button">New TODO</a>
                    <!-- Button trigger modal -->
        <button type="button" class="btn btn-danger btn-lg float-right" data-toggle="modal" data-target="#Modal2">Delete List</button>

        <!-- Modal -->
        <div class="modal fade" id="Modal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="Modal2">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <p>This action will delete your the entire TODO list and you won't be able to access it again. Are you sure you want to delete it?</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <a href="/todos/delete"><button type="submit" class="btn btn-danger">Delete</button></a>
              </div>
            </div>
          </div>
        </div>
              </div>
            </div>
        </div>

    {% else %}

<div class="container-body">
  <div class="jumbotron">
    <h2 class="display-4">Nothing here yet!</h2><br>
    <p class="lead">Is there something you don't want to forget? <br> Start a new TODO and keep it in mind!</p>
    <hr class="my-4">
    <p>Having a hard time remembering pending issues?... Need to get organized?... Let's get Started! :)</p>
    <a class="btn btn-primary btn-lg" href="/form" role="button">New TODO</a>
  </div>
</div>

    {% endif %}

{% endblock %}